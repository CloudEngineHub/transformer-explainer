import{s as tn,e as _,b as E,t as oe,c as k,d as y,o as $,h as N,g,f as se,p as b,j as R,k as m,l as Ze,n as Pe,u as fe,m as at,ac as he,q as te,r as je,v as Je,y as ee}from"./scheduler.DfSyNHuu.js";import{a as nn,i as rn,e as x,b as ln}from"./PositionalEncodingPopover.svelte_svelte_type_style_lang.Dq8P_sUS.js";import{S as on,i as sn}from"./index.NQ40Qhwc.js";import{w as Dt}from"./index.BsEpThTx.js";import{t as an}from"./_commonjsHelpers.DTn6fqMd.js";function Ye(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zt(e){let t,r,n;e.length!==2?(t=Ye,r=(i,c)=>Ye(e(i),c),n=(i,c)=>e(i)-c):(t=e===Ye||e===cn?e:un,r=e,n=e);function l(i,c,a=0,d=i.length){if(a<d){if(t(c,c)!==0)return d;do{const v=a+d>>>1;r(i[v],c)<0?a=v+1:d=v}while(a<d)}return a}function o(i,c,a=0,d=i.length){if(a<d){if(t(c,c)!==0)return d;do{const v=a+d>>>1;r(i[v],c)<=0?a=v+1:d=v}while(a<d)}return a}function s(i,c,a=0,d=i.length){const v=l(i,c,a,d-1);return v>a&&n(i[v-1],c)>-n(i[v],c)?v-1:v}return{left:l,center:s,right:o}}function un(){return 0}function fn(e){return e===null?NaN:+e}const hn=Zt(Ye),dn=hn.right;Zt(fn).center;const mn=Math.sqrt(50),vn=Math.sqrt(10),gn=Math.sqrt(2);function Ke(e,t,r){const n=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(n)),o=n/Math.pow(10,l),s=o>=mn?10:o>=vn?5:o>=gn?2:1;let i,c,a;return l<0?(a=Math.pow(10,-l)/s,i=Math.round(e*a),c=Math.round(t*a),i/a<e&&++i,c/a>t&&--c,a=-a):(a=Math.pow(10,l)*s,i=Math.round(e/a),c=Math.round(t/a),i*a<e&&++i,c*a>t&&--c),c<i&&.5<=r&&r<2?Ke(e,t,r*2):[i,c,a]}function _n(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[l,o,s]=n?Ke(t,e,r):Ke(e,t,r);if(!(o>=l))return[];const i=o-l+1,c=new Array(i);if(n)if(s<0)for(let a=0;a<i;++a)c[a]=(o-a)/-s;else for(let a=0;a<i;++a)c[a]=(o-a)*s;else if(s<0)for(let a=0;a<i;++a)c[a]=(l+a)/-s;else for(let a=0;a<i;++a)c[a]=(l+a)*s;return c}function ct(e,t,r){return t=+t,e=+e,r=+r,Ke(e,t,r)[2]}function kn(e,t,r){t=+t,e=+e,r=+r;const n=t<e,l=n?ct(t,e,r):ct(e,t,r);return(n?-1:1)*(l<0?1/-l:l)}function bn(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function pn(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qe(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function De(e){return e=Qe(Math.abs(e)),e?e[1]:NaN}function yn(e,t){return function(r,n){for(var l=r.length,o=[],s=0,i=e[0],c=0;l>0&&i>0&&(c+i+1>n&&(i=Math.max(1,n-c)),o.push(r.substring(l-=i,l+i)),!((c+=i+1)>n));)i=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Mn(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function We(e){if(!(t=wn.exec(e)))throw new Error("invalid format: "+e);var t;return new ft({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}We.prototype=ft.prototype;function ft(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ft.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function En(e){e:for(var t=e.length,r=1,n=-1,l;r<t;++r)switch(e[r]){case".":n=l=r;break;case"0":n===0&&(n=r),l=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(l+1):e}var Jt;function Nn(e,t){var r=Qe(e,t);if(!r)return e+"";var n=r[0],l=r[1],o=l-(Jt=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Qe(e,Math.max(0,t+o-1))[0]}function Vt(e,t){var r=Qe(e,t);if(!r)return e+"";var n=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+n:n.length>l+1?n.slice(0,l+1)+"."+n.slice(l+1):n+new Array(l-n.length+2).join("0")}const At={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pn,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vt(e*100,t),r:Vt,s:Nn,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function St(e){return e}var Pt=Array.prototype.map,jt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cn(e){var t=e.grouping===void 0||e.thousands===void 0?St:yn(Pt.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?St:Mn(Pt.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",i=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function a(v){v=We(v);var p=v.fill,I=v.align,M=v.sign,K=v.symbol,S=v.zero,T=v.width,ae=v.comma,G=v.precision,X=v.trim,D=v.type;D==="n"?(ae=!0,D="g"):At[D]||(G===void 0&&(G=12),X=!0,D="g"),(S||p==="0"&&I==="=")&&(S=!0,p="0",I="=");var O=K==="$"?r:K==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",Q=K==="$"?n:/[%p]/.test(D)?s:"",de=At[D],me=/[defgprs%]/.test(D);G=G===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,G)):Math.max(0,Math.min(20,G));function H(h){var q=O,L=Q,U,ge,Y;if(D==="c")L=de(h)+L,h="";else{h=+h;var ce=h<0||1/h<0;if(h=isNaN(h)?c:de(Math.abs(h),G),X&&(h=En(h)),ce&&+h==0&&M!=="+"&&(ce=!1),q=(ce?M==="("?M:i:M==="-"||M==="("?"":M)+q,L=(D==="s"?jt[8+Jt/3]:"")+L+(ce&&M==="("?")":""),me){for(U=-1,ge=h.length;++U<ge;)if(Y=h.charCodeAt(U),48>Y||Y>57){L=(Y===46?l+h.slice(U+1):h.slice(U))+L,h=h.slice(0,U);break}}}ae&&!S&&(h=t(h,1/0));var Z=q.length+h.length+L.length,J=Z<T?new Array(T-Z+1).join(p):"";switch(ae&&S&&(h=t(J+h,J.length?T-L.length:1/0),J=""),I){case"<":h=q+h+L+J;break;case"=":h=q+J+h+L;break;case"^":h=J.slice(0,Z=J.length>>1)+q+h+L+J.slice(Z);break;default:h=J+q+h+L;break}return o(h)}return H.toString=function(){return v+""},H}function d(v,p){var I=a((v=We(v),v.type="f",v)),M=Math.max(-8,Math.min(8,Math.floor(De(p)/3)))*3,K=Math.pow(10,-M),S=jt[8+M/3];return function(T){return I(K*T)+S}}return{format:a,formatPrefix:d}}var Oe,Kt,Qt;In({thousands:",",grouping:[3],currency:["$",""]});function In(e){return Oe=Cn(e),Kt=Oe.format,Qt=Oe.formatPrefix,Oe}function Dn(e){return Math.max(0,-De(Math.abs(e)))}function Vn(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(De(t)/3)))*3-De(Math.abs(e)))}function An(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,De(t)-De(e))+1}function Sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pn(e){return function(){return e}}function jn(e){return+e}var zt=[0,1];function Ie(e){return e}function ut(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Pn(isNaN(t)?NaN:.5)}function zn(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Fn(e,t,r){var n=e[0],l=e[1],o=t[0],s=t[1];return l<n?(n=ut(l,n),o=r(s,o)):(n=ut(n,l),o=r(o,s)),function(i){return o(n(i))}}function Rn(e,t,r){var n=Math.min(e.length,t.length)-1,l=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)l[s]=ut(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(i){var c=dn(e,i,1,n)-1;return o[c](l[c](i))}}function qn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ln(){var e=zt,t=zt,r=rn,n,l,o,s=Ie,i,c,a;function d(){var p=Math.min(e.length,t.length);return s!==Ie&&(s=zn(e[0],e[p-1])),i=p>2?Rn:Fn,c=a=null,v}function v(p){return p==null||isNaN(p=+p)?o:(c||(c=i(e.map(n),t,r)))(n(s(p)))}return v.invert=function(p){return s(l((a||(a=i(t,e.map(n),nn)))(p)))},v.domain=function(p){return arguments.length?(e=Array.from(p,jn),d()):e.slice()},v.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},v.rangeRound=function(p){return t=Array.from(p),r=bn,d()},v.clamp=function(p){return arguments.length?(s=p?!0:Ie,d()):s!==Ie},v.interpolate=function(p){return arguments.length?(r=p,d()):r},v.unknown=function(p){return arguments.length?(o=p,v):o},function(p,I){return n=p,l=I,d()}}function Tn(){return Ln()(Ie,Ie)}function Bn(e,t,r,n){var l=kn(e,t,r),o;switch(n=We(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Vn(l,s))&&(n.precision=o),Qt(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=An(l,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Dn(l))&&(n.precision=o-(n.type==="%")*2);break}}return Kt(n)}function xn(e){var t=e.domain;return e.ticks=function(r){var n=t();return _n(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var l=t();return Bn(l[0],l[l.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),l=0,o=n.length-1,s=n[l],i=n[o],c,a,d=10;for(i<s&&(a=s,s=i,i=a,a=l,l=o,o=a);d-- >0;){if(a=ct(s,i,r),a===c)return n[l]=s,n[o]=i,t(n);if(a>0)s=Math.floor(s/a)*a,i=Math.ceil(i/a)*a;else if(a<0)s=Math.ceil(s*a)/a,i=Math.floor(i*a)/a;else break;c=a}return e},e}function Wt(){var e=Tn();return e.copy=function(){return qn(e,Wt())},Sn.apply(e,arguments),xn(e)}function Ft(e,t,r){const n=e.slice();return n[24]=t[r],n[26]=r,n}function Rt(e,t,r){const n=e.slice();return n[27]=t[r],n[29]=r,n}function Gn(e,t,r){const n=e.slice();return n[30]=t[r],n[32]=r,n}function Hn(e,t,r){const n=e.slice();return n[30]=t[r],n[32]=r,n}function qt(e,t,r){const n=e.slice();return n[34]=t[r],n[36]=r,n}function Lt(e,t,r){const n=e.slice();return n[30]=t[r],n[38]=r,n}function Tt(e,t,r){const n=e.slice();return n[34]=t[r],n[36]=r,n}function Bt(e,t,r){const n=e.slice();return n[34]=t[r],n[36]=r,n}function xt(e){let t,r,n=e[34]+"",l,o,s,i;function c(){return e[13](e[36])}return{c(){t=_("div"),r=_("span"),l=oe(n),o=E(),this.h()},l(a){t=k(a,"DIV",{class:!0,role:!0});var d=y(t);r=k(d,"SPAN",{class:!0});var v=y(r);l=se(v,n),v.forEach(g),o=N(d),d.forEach(g),this.h()},h(){b(r,"class","text-ellipsis text-center text-gray-900"),b(t,"class","token-box svelte-kyhkcr"),b(t,"role","group"),he(t,"highlight-token-box",e[36]===e[2])},m(a,d){R(a,t,d),m(t,r),m(r,l),m(t,o),s||(i=[te(t,"mouseenter",c),te(t,"mouseleave",e[14])],s=!0)},p(a,d){e=a,d[0]&2&&n!==(n=e[34]+"")&&Ze(l,n),d[0]&4&&he(t,"highlight-token-box",e[36]===e[2])},d(a){a&&g(t),s=!1,je(i)}}}function Gt(e){let t,r,n,l,o,s;function i(){return e[15](e[36])}return{c(){t=_("div"),r=_("span"),n=oe(e[36]),l=E(),this.h()},l(c){t=k(c,"DIV",{class:!0,role:!0});var a=y(t);r=k(a,"SPAN",{class:!0});var d=y(r);n=se(d,e[36]),d.forEach(g),l=N(a),a.forEach(g),this.h()},h(){b(r,"class","text-ellipsis text-center text-gray-900"),b(t,"class","position-box svelte-kyhkcr"),b(t,"role","group"),he(t,"highlight-token-box",e[36]===e[2])},m(c,a){R(c,t,a),m(t,r),m(r,n),m(t,l),o||(s=[te(t,"mouseenter",i),te(t,"mouseleave",e[16])],o=!0)},p(c,a){e=c,a[0]&4&&he(t,"highlight-token-box",e[36]===e[2])},d(c){c&&g(t),o=!1,je(s)}}}function Ht(e){let t,r,n;function l(){return e[17](e[38])}return{c(){t=_("div"),this.h()},l(o){t=k(o,"DIV",{class:!0,role:!0,style:!0}),y(t).forEach(g),this.h()},h(){b(t,"class","barcode-bar h-full w-full svelte-kyhkcr"),b(t,"role","group"),ee(t,"background-color",e[6](e[0][e[38]][e[36]]))},m(o,s){R(o,t,s),r||(n=[te(t,"mouseenter",l),te(t,"mouseleave",e[18])],r=!0)},p(o,s){e=o,s[0]&1&&ee(t,"background-color",e[6](e[0][e[38]][e[36]]))},d(o){o&&g(t),r=!1,je(n)}}}function Ut(e){let t,r,n,l,o=x(Array(Yt)),s=[];for(let c=0;c<o.length;c+=1)s[c]=Ht(Lt(e,o,c));function i(){return e[19](e[36])}return{c(){t=_("div");for(let c=0;c<s.length;c+=1)s[c].c();r=E(),this.h()},l(c){t=k(c,"DIV",{class:!0,role:!0});var a=y(t);for(let d=0;d<s.length;d+=1)s[d].l(a);r=N(a),a.forEach(g),this.h()},h(){b(t,"class","barcode-box flex flex-col justify-between svelte-kyhkcr"),b(t,"role","group"),he(t,"highlight-token-box",e[36]===e[2])},m(c,a){R(c,t,a);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null);m(t,r),n||(l=[te(t,"mouseenter",i),te(t,"mouseleave",e[20])],n=!0)},p(c,a){if(e=c,a[0]&81){o=x(Array(Yt));let d;for(d=0;d<o.length;d+=1){const v=Lt(e,o,d);s[d]?s[d].p(v,a):(s[d]=Ht(v),s[d].c(),s[d].m(t,r))}for(;d<s.length;d+=1)s[d].d(1);s.length=o.length}a[0]&4&&he(t,"highlight-token-box",e[36]===e[2])},d(c){c&&g(t),fe(s,c),n=!1,je(l)}}}function Un(e){let t,r;return{c(){t=_("div"),r=oe(e[32])},l(n){t=k(n,"DIV",{});var l=y(t);r=se(l,e[32]),l.forEach(g)},m(n,l){R(n,t,l),m(t,r)},d(n){n&&g(t)}}}function Xn(e){let t,r=e[32]%10===0&&Un(e);return{c(){r&&r.c(),t=Je()},l(n){r&&r.l(n),t=Je()},m(n,l){r&&r.m(n,l),R(n,t,l)},p:Pe,d(n){n&&g(t),r&&r.d(n)}}}function On(e){let t,r;return{c(){t=_("div"),r=oe(e[32])},l(n){t=k(n,"DIV",{});var l=y(t);r=se(l,e[32]),l.forEach(g)},m(n,l){R(n,t,l),m(t,r)},d(n){n&&g(t)}}}function Yn(e){let t,r=e[32]%10===0&&On(e);return{c(){r&&r.c(),t=Je()},l(n){r&&r.l(n),t=Je()},m(n,l){r&&r.m(n,l),R(n,t,l)},p:Pe,d(n){n&&g(t),r&&r.d(n)}}}function Xt(e){let t,r,n,l;function o(){return e[21](e[26],e[29])}return{c(){t=_("div"),this.h()},l(s){t=k(s,"DIV",{class:!0,style:!0,role:!0}),y(t).forEach(g),this.h()},h(){b(t,"class",r="matrix-cell "+(e[2]===e[29]?"highlighted-col":"")+" svelte-kyhkcr"),ee(t,"background-color",e[6](e[27])),b(t,"role","group"),he(t,"barcode-row-highlight",e[26]===e[3]&&e[2]===e[29])},m(s,i){R(s,t,i),n||(l=[te(t,"mouseenter",o),te(t,"mouseleave",e[22])],n=!0)},p(s,i){e=s,i[0]&4&&r!==(r="matrix-cell "+(e[2]===e[29]?"highlighted-col":"")+" svelte-kyhkcr")&&b(t,"class",r),i[0]&1&&ee(t,"background-color",e[6](e[27])),i[0]&12&&he(t,"barcode-row-highlight",e[26]===e[3]&&e[2]===e[29])},d(s){s&&g(t),n=!1,je(l)}}}function Ot(e){let t,r,n=x(e[24]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Xt(Rt(e,n,o));return{c(){t=_("div");for(let o=0;o<l.length;o+=1)l[o].c();r=E(),this.h()},l(o){t=k(o,"DIV",{class:!0});var s=y(t);for(let i=0;i<l.length;i+=1)l[i].l(s);r=N(s),s.forEach(g),this.h()},h(){b(t,"class","matrix-col")},m(o,s){R(o,t,s);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(t,null);m(t,r)},p(o,s){if(s[0]&125){n=x(o[24]);let i;for(i=0;i<n.length;i+=1){const c=Rt(o,n,i);l[i]?l[i].p(c,s):(l[i]=Xt(c),l[i].c(),l[i].m(t,r))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(o){o&&g(t),fe(l,o)}}}function Zn(e){let t,r="cos";return{c(){t=_("span"),t.textContent=r,this.h()},l(n){t=k(n,"SPAN",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1nqoakl"&&(t.textContent=r),this.h()},h(){b(t,"class","flex w-8 justify-center rounded-sm border border-blue-400")},m(n,l){R(n,t,l)},d(n){n&&g(t)}}}function Jn(e){let t,r="sin";return{c(){t=_("span"),t.textContent=r,this.h()},l(n){t=k(n,"SPAN",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-nb6ypa"&&(t.textContent=r),this.h()},h(){b(t,"class","flex w-8 justify-center rounded-sm border border-blue-400")},m(n,l){R(n,t,l)},d(n){n&&g(t)}}}function Kn(e){let t;return{c(){t=_("div"),this.h()},l(r){t=k(r,"DIV",{class:!0}),y(t).forEach(g),this.h()},h(){b(t,"class","formula-solution-box items-center rounded-sm border-2 border-gray-300 p-2 svelte-kyhkcr")},m(r,n){R(r,t,n)},p:Pe,d(r){r&&g(t)}}}function Qn(e){let t,r="=",n,l,o=e[0][e[3]][e[2]].toFixed(2)+"",s;return{c(){t=_("div"),t.textContent=r,n=E(),l=_("div"),s=oe(o),this.h()},l(i){t=k(i,"DIV",{"data-svelte-h":!0}),$(t)!=="svelte-ng5ugd"&&(t.textContent=r),n=N(i),l=k(i,"DIV",{class:!0,style:!0});var c=y(l);s=se(c,o),c.forEach(g),this.h()},h(){b(l,"class","formula-solution-box w-[80] items-center rounded-sm p-2 svelte-kyhkcr"),ee(l,"background-color",e[6](e[0][e[3]][e[2]])),ee(l,"border","3px solid "+e[6](e[0][e[3]][e[2]])),ee(l,"color",Math.abs(e[0][e[3]][e[2]])>.3?"white":"black")},m(i,c){R(i,t,c),R(i,n,c),R(i,l,c),m(l,s)},p(i,c){c[0]&13&&o!==(o=i[0][i[3]][i[2]].toFixed(2)+"")&&Ze(s,o),c[0]&13&&ee(l,"background-color",i[6](i[0][i[3]][i[2]])),c[0]&13&&ee(l,"border","3px solid "+i[6](i[0][i[3]][i[2]])),c[0]&13&&ee(l,"color",Math.abs(i[0][i[3]][i[2]])>.3?"white":"black")},d(i){i&&(g(t),g(n),g(l))}}}function Wn(e){let t,r,n,l,o,s="Token",i,c,a,d,v,p="Position",I,M,K,S,T,ae="Embedding",G,X,D,O,Q,de="Encoding Matrix",me,H,h,q,L,U,ge,Y,ce,Z,J='<div class="gradient-legend svelte-kyhkcr"></div> <div class="legend-labels svelte-kyhkcr"><span class="svelte-kyhkcr">1</span> <span class="svelte-kyhkcr">0</span> <span class="svelte-kyhkcr">-1</span></div>',$e,_e,ne,C,Ve,et,ze,ke,ht="(",tt,be,Ae=(e[2]?e[2]:"pos")+"",Fe,nt,pe,dt="/ 10000",rt,ve,lt,ye,Se=(e[3]?e[3]:" i ")+"",Re,it,ot,Me,mt=")",st,we=x(e[1]),P=[];for(let u=0;u<we.length;u+=1)P[u]=xt(Bt(e,we,u));let Ee=x(e[1]),j=[];for(let u=0;u<Ee.length;u+=1)j[u]=Gt(Tt(e,Ee,u));let Ne=x(e[1]),z=[];for(let u=0;u<Ne.length;u+=1)z[u]=Ut(qt(e,Ne,u));let vt=x(Array(en+1).fill(0)),re=[];for(let u=0;u<vt.length;u+=1)re[u]=Xn(Hn(e,vt,u));let gt=x(Array($t+1).fill(0)),le=[];for(let u=0;u<gt.length;u+=1)le[u]=Yn(Gn(e,gt,u));let Ce=x(e[0]),F=[];for(let u=0;u<Ce.length;u+=1)F[u]=Ot(Ft(e,Ce,u));function _t(u,V){return u[2]%2===0?Jn:Zn}let qe=_t(e),ie=qe(e);function kt(u,V){return u[2]!==null&&u[3]!==null?Qn:Kn}let Le=kt(e),W=Le(e);return{c(){t=_("div"),r=_("div"),n=_("div"),l=_("div"),o=_("div"),o.textContent=s,i=E(),c=_("div");for(let u=0;u<P.length;u+=1)P[u].c();a=E(),d=_("div"),v=_("div"),v.textContent=p,I=E(),M=_("div");for(let u=0;u<j.length;u+=1)j[u].c();K=E(),S=_("div"),T=_("div"),T.textContent=ae,G=E(),X=_("div");for(let u=0;u<z.length;u+=1)z[u].c();D=E(),O=_("div"),Q=_("div"),Q.textContent=de,me=E(),H=_("div"),h=_("div"),q=_("div");for(let u=0;u<re.length;u+=1)re[u].c();L=E(),U=_("div");for(let u=0;u<le.length;u+=1)le[u].c();ge=E(),Y=_("div");for(let u=0;u<F.length;u+=1)F[u].c();ce=E(),Z=_("div"),Z.innerHTML=J,$e=E(),_e=_("div"),ne=_("div"),C=_("div"),Ve=_("span"),et=E(),ie.c(),ze=E(),ke=_("span"),ke.textContent=ht,tt=E(),be=_("span"),Fe=oe(Ae),nt=E(),pe=_("span"),pe.textContent=dt,rt=E(),ve=_("sup"),lt=oe(`(2 *
								`),ye=_("span"),Re=oe(Se),it=oe(`
								/ 768)`),ot=E(),Me=_("span"),Me.textContent=mt,st=E(),W.c(),this.h()},l(u){t=k(u,"DIV",{class:!0});var V=y(t);r=k(V,"DIV",{class:!0});var f=y(r);n=k(f,"DIV",{class:!0});var A=y(n);l=k(A,"DIV",{class:!0});var Te=y(l);o=k(Te,"DIV",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-bcix22"&&(o.textContent=s),i=N(Te),c=k(Te,"DIV",{class:!0});var bt=y(c);for(let w=0;w<P.length;w+=1)P[w].l(bt);bt.forEach(g),Te.forEach(g),a=N(A),d=k(A,"DIV",{class:!0});var Be=y(d);v=k(Be,"DIV",{class:!0,"data-svelte-h":!0}),$(v)!=="svelte-12s4mew"&&(v.textContent=p),I=N(Be),M=k(Be,"DIV",{class:!0});var pt=y(M);for(let w=0;w<j.length;w+=1)j[w].l(pt);pt.forEach(g),Be.forEach(g),K=N(A),S=k(A,"DIV",{class:!0});var xe=y(S);T=k(xe,"DIV",{class:!0,"data-svelte-h":!0}),$(T)!=="svelte-1gr8y2"&&(T.textContent=ae),G=N(xe),X=k(xe,"DIV",{class:!0});var yt=y(X);for(let w=0;w<z.length;w+=1)z[w].l(yt);yt.forEach(g),xe.forEach(g),A.forEach(g),D=N(f),O=k(f,"DIV",{class:!0});var Ge=y(O);Q=k(Ge,"DIV",{class:!0,"data-svelte-h":!0}),$(Q)!=="svelte-v6wtg3"&&(Q.textContent=de),me=N(Ge),H=k(Ge,"DIV",{class:!0});var He=y(H);h=k(He,"DIV",{class:!0});var ue=y(h);q=k(ue,"DIV",{class:!0});var Mt=y(q);for(let w=0;w<re.length;w+=1)re[w].l(Mt);Mt.forEach(g),L=N(ue),U=k(ue,"DIV",{class:!0});var wt=y(U);for(let w=0;w<le.length;w+=1)le[w].l(wt);wt.forEach(g),ge=N(ue),Y=k(ue,"DIV",{class:!0});var Et=y(Y);for(let w=0;w<F.length;w+=1)F[w].l(Et);Et.forEach(g),ce=N(ue),Z=k(ue,"DIV",{class:!0,"data-svelte-h":!0}),$(Z)!=="svelte-9si3ya"&&(Z.innerHTML=J),ue.forEach(g),$e=N(He),_e=k(He,"DIV",{class:!0});var Nt=y(_e);ne=k(Nt,"DIV",{class:!0});var Ue=y(ne);C=k(Ue,"DIV",{class:!0});var B=y(C);Ve=k(B,"SPAN",{class:!0}),y(Ve).forEach(g),et=N(B),ie.l(B),ze=N(B),ke=k(B,"SPAN",{"data-svelte-h":!0}),$(ke)!=="svelte-8mvn6a"&&(ke.textContent=ht),tt=N(B),be=k(B,"SPAN",{class:!0});var Ct=y(be);Fe=se(Ct,Ae),Ct.forEach(g),nt=N(B),pe=k(B,"SPAN",{"data-svelte-h":!0}),$(pe)!=="svelte-15lobwk"&&(pe.textContent=dt),rt=N(B),ve=k(B,"SUP",{});var Xe=y(ve);lt=se(Xe,`(2 *
								`),ye=k(Xe,"SPAN",{class:!0});var It=y(ye);Re=se(It,Se),It.forEach(g),it=se(Xe,`
								/ 768)`),Xe.forEach(g),ot=N(B),Me=k(B,"SPAN",{"data-svelte-h":!0}),$(Me)!=="svelte-1jq0pl7"&&(Me.textContent=mt),B.forEach(g),st=N(Ue),W.l(Ue),Ue.forEach(g),Nt.forEach(g),He.forEach(g),Ge.forEach(g),f.forEach(g),V.forEach(g),this.h()},h(){b(o,"class","subtitle svelte-kyhkcr"),b(c,"class","subcontent flex flex-col svelte-kyhkcr"),b(l,"class","tokens svelte-kyhkcr"),b(v,"class","subtitle svelte-kyhkcr"),b(M,"class","subcontent flex flex-col svelte-kyhkcr"),b(d,"class","positions svelte-kyhkcr"),b(T,"class","subtitle svelte-kyhkcr"),b(X,"class","subcontent flex flex-col svelte-kyhkcr"),b(S,"class","embs svelte-kyhkcr"),b(n,"class","token-container svelte-kyhkcr"),b(Q,"class","subtitle svelte-kyhkcr"),b(q,"class","embed-dim-axis svelte-kyhkcr"),b(U,"class","position-axis svelte-kyhkcr"),b(Y,"class","matrix flex"),b(Z,"class","gradient-legend-container svelte-kyhkcr"),b(h,"class","chart-container mx-auto svelte-kyhkcr"),b(Ve,"class","flex"),b(be,"class","flex w-8 justify-center rounded-sm border border-blue-400"),b(ye,"class","mr-1 rounded-sm border border-blue-400 pl-2 pr-2"),b(C,"class","flex items-center justify-center gap-1"),b(ne,"class","even-pos flex h-10 flex-1 items-center justify-between gap-4 p-1"),b(_e,"class","formula-container mt-4 w-[400] flex-col justify-around gap-1 bg-gray-50 p-2 svelte-kyhkcr"),b(H,"class","subcontent viz-subcontent svelte-kyhkcr"),b(O,"class","viz-container svelte-kyhkcr"),b(r,"class","content svelte-kyhkcr"),b(t,"class","popover-container emb_pos svelte-kyhkcr")},m(u,V){R(u,t,V),m(t,r),m(r,n),m(n,l),m(l,o),m(l,i),m(l,c);for(let f=0;f<P.length;f+=1)P[f]&&P[f].m(c,null);m(n,a),m(n,d),m(d,v),m(d,I),m(d,M);for(let f=0;f<j.length;f+=1)j[f]&&j[f].m(M,null);m(n,K),m(n,S),m(S,T),m(S,G),m(S,X);for(let f=0;f<z.length;f+=1)z[f]&&z[f].m(X,null);m(r,D),m(r,O),m(O,Q),m(O,me),m(O,H),m(H,h),m(h,q);for(let f=0;f<re.length;f+=1)re[f]&&re[f].m(q,null);m(h,L),m(h,U);for(let f=0;f<le.length;f+=1)le[f]&&le[f].m(U,null);m(h,ge),m(h,Y);for(let f=0;f<F.length;f+=1)F[f]&&F[f].m(Y,null);m(h,ce),m(h,Z),m(H,$e),m(H,_e),m(_e,ne),m(ne,C),m(C,Ve),m(C,et),ie.m(C,null),m(C,ze),m(C,ke),m(C,tt),m(C,be),m(be,Fe),m(C,nt),m(C,pe),m(C,rt),m(C,ve),m(ve,lt),m(ve,ye),m(ye,Re),m(ve,it),m(C,ot),m(C,Me),m(ne,st),W.m(ne,null)},p(u,V){if(V[0]&38){we=x(u[1]);let f;for(f=0;f<we.length;f+=1){const A=Bt(u,we,f);P[f]?P[f].p(A,V):(P[f]=xt(A),P[f].c(),P[f].m(c,null))}for(;f<P.length;f+=1)P[f].d(1);P.length=we.length}if(V[0]&38){Ee=x(u[1]);let f;for(f=0;f<Ee.length;f+=1){const A=Tt(u,Ee,f);j[f]?j[f].p(A,V):(j[f]=Gt(A),j[f].c(),j[f].m(M,null))}for(;f<j.length;f+=1)j[f].d(1);j.length=Ee.length}if(V[0]&119){Ne=x(u[1]);let f;for(f=0;f<Ne.length;f+=1){const A=qt(u,Ne,f);z[f]?z[f].p(A,V):(z[f]=Ut(A),z[f].c(),z[f].m(X,null))}for(;f<z.length;f+=1)z[f].d(1);z.length=Ne.length}if(V[0]&125){Ce=x(u[0]);let f;for(f=0;f<Ce.length;f+=1){const A=Ft(u,Ce,f);F[f]?F[f].p(A,V):(F[f]=Ot(A),F[f].c(),F[f].m(Y,null))}for(;f<F.length;f+=1)F[f].d(1);F.length=Ce.length}qe!==(qe=_t(u))&&(ie.d(1),ie=qe(u),ie&&(ie.c(),ie.m(C,ze))),V[0]&4&&Ae!==(Ae=(u[2]?u[2]:"pos")+"")&&Ze(Fe,Ae),V[0]&8&&Se!==(Se=(u[3]?u[3]:" i ")+"")&&Ze(Re,Se),Le===(Le=kt(u))&&W?W.p(u,V):(W.d(1),W=Le(u),W&&(W.c(),W.m(ne,null)))},i:Pe,o:Pe,d(u){u&&g(t),fe(P,u),fe(j,u),fe(z,u),fe(re,u),fe(le,u),fe(F,u),ie.d(),W.d()}}}const $t=40,$n=768,en=100;let Yt=21;function er(e,t,r){const n=Array(r).fill().map(()=>Array(e).fill(0));for(let l=0;l<e;l++)for(let o=0;o<r;o++){const s=o%2===0?Math.sin(l/Math.pow(1e4,o/t)):Math.cos(l/Math.pow(1e4,(o-1)/t));n[l][o]=s}return n}function tr(e,t,r){let n,l,o;at(e,an,h=>r(1,n=h));let{offset:s=void 0}=t,{className:i=void 0}=t,{triggeredBy:c=void 0}=t,{trigger:a="hover"}=t,{placement:d="right"}=t,{open:v=!1}=t,p=[];const I=Dt(null);at(e,I,h=>r(3,o=h));const M=Dt(null);at(e,M,h=>r(2,l=h));const K=Wt().domain([-1,0,1]).range(["rgb(248, 113, 113)","rgb(255, 255, 255)","rgb(96, 165, 250)"]).interpolate(ln);function S(h){return K(h)}p=er($t,$n,en);const T=h=>M.set(h),ae=()=>M.set(null),G=h=>M.set(h),X=()=>M.set(null),D=h=>I.set(h),O=()=>I.set(null),Q=h=>M.set(h),de=()=>M.set(null),me=(h,q)=>{I.set(h),M.set(q)},H=()=>{I.set(null),M.set(null)};return e.$$set=h=>{"offset"in h&&r(7,s=h.offset),"className"in h&&r(8,i=h.className),"triggeredBy"in h&&r(9,c=h.triggeredBy),"trigger"in h&&r(10,a=h.trigger),"placement"in h&&r(11,d=h.placement),"open"in h&&r(12,v=h.open)},[p,n,l,o,I,M,S,s,i,c,a,d,v,T,ae,G,X,D,O,Q,de,me,H]}class sr extends on{constructor(t){super(),sn(this,t,tr,Wn,tn,{offset:7,className:8,triggeredBy:9,trigger:10,placement:11,open:12},null,[-1,-1])}}export{sr as P,Wt as l};

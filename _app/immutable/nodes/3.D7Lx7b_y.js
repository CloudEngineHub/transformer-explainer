import{a as Et,C as ft,e as S,c as A,a7 as Kt,j as G,a8 as Yt,I as rt,n as ht,g as b,r as we,z as vt,D as yt,E as ct,af as Ee,F as Ne,J as Ie,K as De,L as Se,w as ge,t as Y,b as B,a2 as Vt,d as I,f as Z,h as O,a5 as Ae,a3 as Ct,u as D,k,l as Nt,N as Pe,ab as mt,m as Zt,A as je,a1 as ze,q as Ve}from"../chunks/scheduler.CpR7wfEQ.js";import{S as It,i as Dt,b as St,d as At,m as Pt,a as et,t as it,e as jt,h as Ce,g as Te,c as Fe}from"../chunks/index.2dcGI9Yl.js";import{g as me,a as Le,e as tt,c as Re,b as qe}from"../chunks/index.BOJ3YHHl.js";import{i as pe,a as He,r as Be,t as Oe,c as Ge,s as Tt}from"../chunks/index.BilFfwtO.js";import{t as _e,P as Ue}from"../chunks/Popper.AkWm92Ri.js";function kt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function We(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function be(t){let e,r,n;t.length!==2?(e=kt,r=(a,c)=>kt(t(a),c),n=(a,c)=>t(a)-c):(e=t===kt||t===We?t:Xe,r=t,n=t);function i(a,c,s=0,g=a.length){if(s<g){if(e(c,c)!==0)return g;do{const d=s+g>>>1;r(a[d],c)<0?s=d+1:g=d}while(s<g)}return s}function l(a,c,s=0,g=a.length){if(s<g){if(e(c,c)!==0)return g;do{const d=s+g>>>1;r(a[d],c)<=0?s=d+1:g=d}while(s<g)}return s}function o(a,c,s=0,g=a.length){const d=i(a,c,s,g-1);return d>s&&n(a[d-1],c)>-n(a[d],c)?d-1:d}return{left:i,center:o,right:l}}function Xe(){return 0}function Je(t){return t===null?NaN:+t}const Ke=be(kt),Ye=Ke.right;be(Je).center;function Ze(t,e){let r,n;if(e===void 0)for(const i of t)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let l of t)(l=e(l,++i,t))!=null&&(r===void 0?l>=l&&(r=n=l):(r>l&&(r=l),n<l&&(n=l)))}return[r,n]}const Qe=Math.sqrt(50),$e=Math.sqrt(10),tn=Math.sqrt(2);function xt(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),l=n/Math.pow(10,i),o=l>=Qe?10:l>=$e?5:l>=tn?2:1;let a,c,s;return i<0?(s=Math.pow(10,-i)/o,a=Math.round(t*s),c=Math.round(e*s),a/s<t&&++a,c/s>e&&--c,s=-s):(s=Math.pow(10,i)*o,a=Math.round(t/s),c=Math.round(e/s),a*s<t&&++a,c*s>e&&--c),c<a&&.5<=r&&r<2?xt(t,e,r*2):[a,c,s]}function en(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,l,o]=n?xt(e,t,r):xt(t,e,r);if(!(l>=i))return[];const a=l-i+1,c=new Array(a);if(n)if(o<0)for(let s=0;s<a;++s)c[s]=(l-s)/-o;else for(let s=0;s<a;++s)c[s]=(l-s)*o;else if(o<0)for(let s=0;s<a;++s)c[s]=(i+s)/-o;else for(let s=0;s<a;++s)c[s]=(i+s)*o;return c}function Lt(t,e,r){return e=+e,t=+t,r=+r,xt(t,e,r)[2]}function nn(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Lt(e,t,r):Lt(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function rn(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ln(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mt(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function dt(t){return t=Mt(Math.abs(t)),t?t[1]:NaN}function on(t,e){return function(r,n){for(var i=r.length,l=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>n&&(a=Math.max(1,n-c)),l.push(r.substring(i-=a,i+a)),!((c+=a+1)>n));)a=t[o=(o+1)%t.length];return l.reverse().join(e)}}function an(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var sn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wt(t){if(!(e=sn.exec(t)))throw new Error("invalid format: "+t);var e;return new qt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wt.prototype=qt.prototype;function qt(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cn(t){t:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var ke;function un(t,e){var r=Mt(t,e);if(!r)return t+"";var n=r[0],i=r[1],l=i-(ke=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return l===o?n:l>o?n+new Array(l-o+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+Mt(t,Math.max(0,e+l-1))[0]}function Qt(t,e){var r=Mt(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $t={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ln,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Qt(t*100,e),r:Qt,s:un,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function te(t){return t}var ee=Array.prototype.map,ne=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fn(t){var e=t.grouping===void 0||t.thousands===void 0?te:on(ee.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?te:an(ee.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(d){d=wt(d);var h=d.fill,y=d.align,j=d.sign,_=d.symbol,P=d.zero,F=d.width,J=d.comma,m=d.precision,w=d.trim,v=d.type;v==="n"?(J=!0,v="g"):$t[v]||(m===void 0&&(m=12),w=!0,v="g"),(P||h==="0"&&y==="=")&&(P=!0,h="0",y="=");var X=_==="$"?r:_==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",U=_==="$"?n:/[%p]/.test(v)?o:"",lt=$t[v],Q=/[defgprs%]/.test(v);m=m===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function K(p){var q=X,z=U,H,gt,nt;if(v==="c")z=lt(p)+z,p="";else{p=+p;var W=p<0||1/p<0;if(p=isNaN(p)?c:lt(Math.abs(p),m),w&&(p=cn(p)),W&&+p==0&&j!=="+"&&(W=!1),q=(W?j==="("?j:a:j==="-"||j==="("?"":j)+q,z=(v==="s"?ne[8+ke/3]:"")+z+(W&&j==="("?")":""),Q){for(H=-1,gt=p.length;++H<gt;)if(nt=p.charCodeAt(H),48>nt||nt>57){z=(nt===46?i+p.slice(H+1):p.slice(H))+z,p=p.slice(0,H);break}}}J&&!P&&(p=e(p,1/0));var N=q.length+p.length+z.length,V=N<F?new Array(F-N+1).join(h):"";switch(J&&P&&(p=e(V+p,V.length?F-z.length:1/0),V=""),y){case"<":p=q+p+z+V;break;case"=":p=q+V+p+z;break;case"^":p=V.slice(0,N=V.length>>1)+q+p+z+V.slice(N);break;default:p=V+q+p+z;break}return l(p)}return K.toString=function(){return d+""},K}function g(d,h){var y=s((d=wt(d),d.type="f",d)),j=Math.max(-8,Math.min(8,Math.floor(dt(h)/3)))*3,_=Math.pow(10,-j),P=ne[8+j/3];return function(F){return y(_*F)+P}}return{format:s,formatPrefix:g}}var pt,ve,ye;dn({thousands:",",grouping:[3],currency:["$",""]});function dn(t){return pt=fn(t),ve=pt.format,ye=pt.formatPrefix,pt}function hn(t){return Math.max(0,-dt(Math.abs(t)))}function gn(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dt(e)/3)))*3-dt(Math.abs(t)))}function mn(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dt(e)-dt(t))+1}function pn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _n(t){return function(){return t}}function bn(t){return+t}var re=[0,1];function ut(t){return t}function Rt(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_n(isNaN(e)?NaN:.5)}function kn(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function vn(t,e,r){var n=t[0],i=t[1],l=e[0],o=e[1];return i<n?(n=Rt(i,n),l=r(o,l)):(n=Rt(n,i),l=r(l,o)),function(a){return l(n(a))}}function yn(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),l=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Rt(t[o],t[o+1]),l[o]=r(e[o],e[o+1]);return function(a){var c=Ye(t,a,1,n)-1;return l[c](i[c](a))}}function xn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mn(){var t=re,e=re,r=He,n,i,l,o=ut,a,c,s;function g(){var h=Math.min(t.length,e.length);return o!==ut&&(o=kn(t[0],t[h-1])),a=h>2?yn:vn,c=s=null,d}function d(h){return h==null||isNaN(h=+h)?l:(c||(c=a(t.map(n),e,r)))(n(o(h)))}return d.invert=function(h){return o(i((s||(s=a(e,t.map(n),pe)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,bn),g()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),g()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=rn,g()},d.clamp=function(h){return arguments.length?(o=h?!0:ut,g()):o!==ut},d.interpolate=function(h){return arguments.length?(r=h,g()):r},d.unknown=function(h){return arguments.length?(l=h,d):l},function(h,y){return n=h,i=y,g()}}function wn(){return Mn()(ut,ut)}function En(t,e,r,n){var i=nn(t,e,r),l;switch(n=wt(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(l=gn(i,o))&&(n.precision=l),ye(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=mn(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=hn(i))&&(n.precision=l-(n.type==="%")*2);break}}return ve(n)}function Nn(t){var e=t.domain;return t.ticks=function(r){var n=e();return en(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return En(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,l=n.length-1,o=n[i],a=n[l],c,s,g=10;for(a<o&&(s=o,o=a,a=s,s=i,i=l,l=s);g-- >0;){if(s=Lt(o,a,r),s===c)return n[i]=o,n[l]=a,e(n);if(s>0)o=Math.floor(o/s)*s,a=Math.ceil(a/s)*s;else if(s<0)o=Math.ceil(o*s)/s,a=Math.floor(a*s)/s;else break;c=s}return t},t}function xe(){var t=wn();return t.copy=function(){return xn(t,xe())},pn.apply(t,arguments),Nn(t)}function In(t){let e,r,n,i=[{type:"range"},t[2],{class:t[1]}],l={};for(let o=0;o<i.length;o+=1)l=ft(l,i[o]);return{c(){e=S("input"),this.h()},l(o){e=A(o,"INPUT",{type:!0,class:!0}),this.h()},h(){Kt(e,l)},m(o,a){G(o,e,a),e.autofocus&&e.focus(),Yt(e,t[0]),r||(n=[rt(e,"change",t[9]),rt(e,"input",t[9]),rt(e,"change",t[4]),rt(e,"click",t[5]),rt(e,"keydown",t[6]),rt(e,"keypress",t[7]),rt(e,"keyup",t[8])],r=!0)},p(o,[a]){Kt(e,l=me(i,[{type:"range"},a&4&&o[2],a&2&&{class:o[1]}])),a&1&&Yt(e,o[0])},i:ht,o:ht,d(o){o&&b(e),r=!1,we(n)}}}function Dn(t,e,r){const n=["value","size"];let i=vt(e,n),{value:l}=e,{size:o="md"}=e;const a={sm:"h-1 range-sm",md:"h-2",lg:"h-3 range-lg"};let c;function s(_){ct.call(this,t,_)}function g(_){ct.call(this,t,_)}function d(_){ct.call(this,t,_)}function h(_){ct.call(this,t,_)}function y(_){ct.call(this,t,_)}function j(){l=Ee(this.value),r(0,l)}return t.$$set=_=>{r(11,e=ft(ft({},e),yt(_))),r(2,i=vt(e,n)),"value"in _&&r(0,l=_.value),"size"in _&&r(3,o=_.size)},t.$$.update=()=>{r(1,c=_e("w-full bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",a[o]??a.md,e.class))},e=yt(e),[l,c,i,o,s,g,d,h,y,j]}class Sn extends It{constructor(e){super(),Dt(this,e,Dn,In,Et,{value:0,size:3})}}function An(t){let e;const r=t[4].default,n=Ne(r,t,t[6],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&64)&&Ie(n,r,i,i[6],e?Se(r,i[6],l,null):De(i[6]),null)},i(i){e||(et(n,i),e=!0)},o(i){it(n,i),e=!1},d(i){n&&n.d(i)}}}function Pn(t){let e,r;const n=[{rounded:!0},{shadow:!0},t[1],{class:t[0]}];let i={$$slots:{default:[An]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)i=ft(i,n[l]);return e=new Ue({props:i}),e.$on("show",t[5]),{c(){St(e.$$.fragment)},l(l){At(e.$$.fragment,l)},m(l,o){Pt(e,l,o),r=!0},p(l,[o]){const a=o&3?me(n,[n[0],n[1],o&2&&Le(l[1]),o&1&&{class:l[0]}]):{};o&64&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){r||(et(e.$$.fragment,l),r=!0)},o(l){it(e.$$.fragment,l),r=!1},d(l){jt(e,l)}}}function jn(t,e,r){const n=["type","defaultClass"];let i=vt(e,n),{$$slots:l={},$$scope:o}=e,{type:a="dark"}=e,{defaultClass:c="py-2 px-3 text-sm font-medium"}=e;const s={dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border-gray-200 bg-white text-gray-900",auto:" bg-white text-gray-900 dark:bg-gray-700 dark:text-white border-gray-200 dark:border-gray-700",custom:""};let g;function d(h){ct.call(this,t,h)}return t.$$set=h=>{r(8,e=ft(ft({},e),yt(h))),r(1,i=vt(e,n)),"type"in h&&r(2,a=h.type),"defaultClass"in h&&r(3,c=h.defaultClass),"$$scope"in h&&r(6,o=h.$$scope)},t.$$.update=()=>{i.color?r(2,a="custom"):r(1,i.color="none",i),["light","auto"].includes(a)&&r(1,i.border=!0,i),r(0,g=_e("tooltip",c,s[a],e.class))},e=yt(e),[g,i,a,c,l,d,o]}class zn extends It{constructor(e){super(),Dt(this,e,jn,Pn,Et,{type:2,defaultClass:3})}}function ie(t,e,r){const n=t.slice();return n[24]=e[r],n}function le(t,e,r){const n=t.slice();return n[27]=e[r],n}function oe(t,e,r){const n=t.slice();return n[30]=e[r],n[32]=r,n}function ae(t,e,r){const n=t.slice();return n[33]=e[r],n[35]=r,n}function se(t){let e,r,n=t[33]+"",i,l;return{c(){e=S("div"),r=S("span"),i=Y(n),l=B(),this.h()},l(o){e=A(o,"DIV",{class:!0});var a=I(e);r=A(a,"SPAN",{class:!0});var c=I(r);i=Z(c,n),c.forEach(b),l=O(a),a.forEach(b),this.h()},h(){D(r,"class","text-xs"),D(e,"class","flex w-1")},m(o,a){G(o,e,a),k(e,r),k(r,i),k(e,l)},p:ht,d(o){o&&b(e)}}}function Vn(t){let e,r=t[7][t[32]]+"",n,i;return{c(){e=Y("Token ID: "),n=Y(r),i=B()},l(l){e=Z(l,"Token ID: "),n=Z(l,r),i=O(l)},m(l,o){G(l,e,o),G(l,n,o),G(l,i,o)},p:ht,d(l){l&&(b(e),b(n),b(i))}}}function ce(t){let e,r,n=t[30]+"",i,l,o,a;return o=new zn({props:{class:"text-xs",placement:"right",type:"light",$$slots:{default:[Vn]},$$scope:{ctx:t}}}),{c(){e=S("div"),r=S("span"),i=Y(n),l=B(),St(o.$$.fragment),this.h()},l(c){e=A(c,"DIV",{class:!0});var s=I(e);r=A(s,"SPAN",{class:!0});var g=I(r);i=Z(g,n),g.forEach(b),s.forEach(b),l=O(c),At(o.$$.fragment,c),this.h()},h(){D(r,"class",""),D(e,"class","text-box text-box-right hover:bg-gray-200 svelte-1nkcegs")},m(c,s){G(c,e,s),k(e,r),k(r,i),G(c,l,s),Pt(o,c,s),a=!0},p(c,s){const g={};s[1]&32&&(g.$$scope={dirty:s,ctx:c}),o.$set(g)},i(c){a||(et(o.$$.fragment,c),a=!0)},o(c){it(o.$$.fragment,c),a=!1},d(c){c&&(b(e),b(l)),jt(o,c)}}}function ue(t){let e,r=t[27].toFixed(2)+"",n,i;return{c(){e=S("div"),n=Y(r),i=B(),this.h()},l(l){e=A(l,"DIV",{class:!0});var o=I(e);n=Z(o,r),i=O(o),o.forEach(b),this.h()},h(){D(e,"class","text-box text-center svelte-1nkcegs")},m(l,o){G(l,e,o),k(e,n),k(e,i)},p(l,o){o[0]&4&&r!==(r=l[27].toFixed(2)+"")&&Nt(n,r)},d(l){l&&b(e)}}}function Cn(t){let e=t[24].toFixed(2)+"",r;return{c(){r=Y(e)},l(n){r=Z(n,e)},m(n,i){G(n,r,i)},p(n,i){i[0]&16&&e!==(e=n[24].toFixed(2)+"")&&Nt(r,e)},d(n){n&&b(r)}}}function Tn(t){let e=t[24].toExponential(2)+"",r;return{c(){r=Y(e)},l(n){r=Z(n,e)},m(n,i){G(n,r,i)},p(n,i){i[0]&16&&e!==(e=n[24].toExponential(2)+"")&&Nt(r,e)},d(n){n&&b(r)}}}function fe(t){let e,r;function n(o,a){return o[24]>1e5?Tn:Cn}let i=n(t),l=i(t);return{c(){e=S("div"),l.c(),r=B(),this.h()},l(o){e=A(o,"DIV",{class:!0});var a=I(e);l.l(a),r=O(a),a.forEach(b),this.h()},h(){D(e,"class","text-box text-center svelte-1nkcegs")},m(o,a){G(o,e,a),l.m(e,null),k(e,r)},p(o,a){i===(i=n(o))&&l?l.p(o,a):(l.d(1),l=i(o),l&&(l.c(),l.m(e,r)))},d(o){o&&b(e),l.d()}}}function Fn(t){let e,r,n,i,l,o,a,c,s,g,d,h,y='<div class="title-box svelte-1nkcegs"><div class="title-text svelte-1nkcegs">Tokens</div></div> <div class="title-box svelte-1nkcegs"><div class="title-text svelte-1nkcegs">Logits</div></div> <div class="title-box svelte-1nkcegs"><div class="title-text svelte-1nkcegs">Exponents</div></div> <div class="title-box svelte-1nkcegs"><div class="title-text svelte-1nkcegs">Probability</div></div>',j,_,P,F,J,m,w,v,X,U,lt,Q,K,p,q,z,H;function gt(u){t[10](u)}let nt={class:"slider",min:"0",max:t[5].length-1,step:"1"};t[0]!==void 0&&(nt.value=t[0]),a=new Sn({props:nt}),ge.push(()=>Ce(a,"value",gt));let W=tt(t[5]),N=[];for(let u=0;u<W.length;u+=1)N[u]=se(ae(t,W,u));let V=tt(t[6]),E=[];for(let u=0;u<V.length;u+=1)E[u]=ce(oe(t,V,u));const Me=u=>it(E[u],1,1,()=>{E[u]=null});let ot=tt(t[2]),C=[];for(let u=0;u<ot.length;u+=1)C[u]=ue(le(t,ot,u));let at=tt(t[4]),T=[];for(let u=0;u<at.length;u+=1)T[u]=fe(ie(t,at,u));return{c(){e=S("div"),r=S("div"),n=S("p"),i=Y("Temperature: "),l=Y(t[3]),o=B(),St(a.$$.fragment),s=B(),g=S("div");for(let u=0;u<N.length;u+=1)N[u].c();d=B(),h=S("div"),h.innerHTML=y,j=B(),_=S("div"),P=S("div"),F=S("div");for(let u=0;u<E.length;u+=1)E[u].c();J=B(),m=S("div"),w=S("div");for(let u=0;u<C.length;u+=1)C[u].c();v=B(),X=S("div"),U=S("div");for(let u=0;u<T.length;u+=1)T[u].c();lt=B(),Q=S("div"),K=S("div"),p=Vt("svg"),q=Vt("g"),z=Vt("g"),this.h()},l(u){e=A(u,"DIV",{class:!0});var M=I(e);r=A(M,"DIV",{class:!0});var x=I(r);n=A(x,"P",{});var f=I(n);i=Z(f,"Temperature: "),l=Z(f,t[3]),f.forEach(b),o=O(x),At(a.$$.fragment,x),s=O(x),g=A(x,"DIV",{class:!0});var R=I(g);for(let L=0;L<N.length;L+=1)N[L].l(R);R.forEach(b),x.forEach(b),d=O(M),h=A(M,"DIV",{class:!0,"data-svelte-h":!0}),Ae(h)!=="svelte-1jcr0uy"&&(h.innerHTML=y),j=O(M),_=A(M,"DIV",{class:!0});var $=I(_);P=A($,"DIV",{class:!0});var Ht=I(P);F=A(Ht,"DIV",{class:!0});var Bt=I(F);for(let L=0;L<E.length;L+=1)E[L].l(Bt);Bt.forEach(b),Ht.forEach(b),J=O($),m=A($,"DIV",{class:!0});var Ot=I(m);w=A(Ot,"DIV",{class:!0});var Gt=I(w);for(let L=0;L<C.length;L+=1)C[L].l(Gt);Gt.forEach(b),Ot.forEach(b),v=O($),X=A($,"DIV",{class:!0});var Ut=I(X);U=A(Ut,"DIV",{class:!0});var Wt=I(U);for(let L=0;L<T.length;L+=1)T[L].l(Wt);Wt.forEach(b),Ut.forEach(b),lt=O($),Q=A($,"DIV",{class:!0});var Xt=I(Q);K=A(Xt,"DIV",{class:!0});var Jt=I(K);p=Ct(Jt,"svg",{class:!0});var zt=I(p);q=Ct(zt,"g",{class:!0}),I(q).forEach(b),z=Ct(zt,"g",{class:!0}),I(z).forEach(b),zt.forEach(b),Jt.forEach(b),Xt.forEach(b),$.forEach(b),M.forEach(b),this.h()},h(){D(g,"class","slider-labels absolute mt-2 flex w-full justify-around svelte-1nkcegs"),D(r,"class","temperature-slider relative m-4 mb-4 w-96"),D(h,"class","title-row flex justify-around"),D(F,"class","content-box w-20 svelte-1nkcegs"),D(P,"class","content-col svelte-1nkcegs"),D(w,"class","content-box vector-box svelte-1nkcegs"),D(m,"class","content-col svelte-1nkcegs"),D(U,"class","content-box vector-box svelte-1nkcegs"),D(X,"class","content-col svelte-1nkcegs"),D(q,"class","bars"),D(z,"class","bar-labels"),D(p,"class","h-full w-full"),D(K,"class","content-box flex flex-col svelte-1nkcegs"),D(Q,"class","content-col svelte-1nkcegs"),D(_,"class","content-row flex w-full justify-around"),D(e,"class","softmax-container flex flex-col gap-4 svelte-1nkcegs")},m(u,M){G(u,e,M),k(e,r),k(r,n),k(n,i),k(n,l),k(r,o),Pt(a,r,null),k(r,s),k(r,g);for(let x=0;x<N.length;x+=1)N[x]&&N[x].m(g,null);k(e,d),k(e,h),k(e,j),k(e,_),k(_,P),k(P,F);for(let x=0;x<E.length;x+=1)E[x]&&E[x].m(F,null);k(_,J),k(_,m),k(m,w);for(let x=0;x<C.length;x+=1)C[x]&&C[x].m(w,null);k(_,v),k(_,X),k(X,U);for(let x=0;x<T.length;x+=1)T[x]&&T[x].m(U,null);k(_,lt),k(_,Q),k(Q,K),k(K,p),k(p,q),k(p,z),t[11](p),H=!0},p(u,M){(!H||M[0]&8)&&Nt(l,u[3]);const x={};if(!c&&M[0]&1&&(c=!0,x.value=u[0],Pe(()=>c=!1)),a.$set(x),M[0]&32){W=tt(u[5]);let f;for(f=0;f<W.length;f+=1){const R=ae(u,W,f);N[f]?N[f].p(R,M):(N[f]=se(R),N[f].c(),N[f].m(g,null))}for(;f<N.length;f+=1)N[f].d(1);N.length=W.length}if(M[0]&192){V=tt(u[6]);let f;for(f=0;f<V.length;f+=1){const R=oe(u,V,f);E[f]?(E[f].p(R,M),et(E[f],1)):(E[f]=ce(R),E[f].c(),et(E[f],1),E[f].m(F,null))}for(Te(),f=V.length;f<E.length;f+=1)Me(f);Fe()}if(M[0]&4){ot=tt(u[2]);let f;for(f=0;f<ot.length;f+=1){const R=le(u,ot,f);C[f]?C[f].p(R,M):(C[f]=ue(R),C[f].c(),C[f].m(w,null))}for(;f<C.length;f+=1)C[f].d(1);C.length=ot.length}if(M[0]&16){at=tt(u[4]);let f;for(f=0;f<at.length;f+=1){const R=ie(u,at,f);T[f]?T[f].p(R,M):(T[f]=fe(R),T[f].c(),T[f].m(U,null))}for(;f<T.length;f+=1)T[f].d(1);T.length=at.length}},i(u){if(!H){et(a.$$.fragment,u);for(let M=0;M<V.length;M+=1)et(E[M]);H=!0}},o(u){it(a.$$.fragment,u),E=E.filter(Boolean);for(let M=0;M<E.length;M+=1)it(E[M]);H=!1},d(u){u&&b(e),jt(a),mt(N,u),mt(E,u),mt(C,u),mt(T,u),t[11](null)}}}let Ft=16;const Ln=80,_t=0,bt=0,st=5,de=2;function he(t,e){const r=t.map(o=>o.logit/e),n=r.map(o=>Math.exp(o)),i=n.reduce((o,a)=>o+a,0);return t.map((o,a)=>({...o,logit:r[a],probability:n[a]/i}))}function Rn(t,e,r){let n,i,l,o;Zt(t,Re,m=>r(13,m)),Zt(t,qe,m=>r(14,m));const{theme:a}=Be(Oe);je("block-id","linear"),ze("block-id"),console.log(Ft);const c=Ft,s=.5*Ft;let g=9;const d=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,2,3,4,5,6,7,8,9,10];let h=[{token:"great",token_id:1049,logit:8.420611381530762,probability:.05054401233792305},{token:"big",token_id:1263,logit:7.39492654800415,probability:.018122598528862},{token:"member",token_id:2888,logit:7.361647129058838,probability:.017529413104057312},{token:"good",token_id:922,logit:7.354094982147217,probability:.017397526651620865},{token:"very",token_id:845,logit:7.138553619384766,probability:.014024232514202595},{token:"major",token_id:1688,logit:7.0558366775512695,probability:.012910871766507626},{token:"small",token_id:1402,logit:7.034438133239746,probability:.012637533247470856},{token:"top",token_id:1353,logit:7.018462657928467,probability:.01243724673986435},{token:"private",token_id:2839,logit:6.951408386230469,probability:.011630622670054436},{token:"huge",token_id:3236,logit:6.743682384490967,probability:.009449061937630177},{token:"strong",token_id:1913,logit:6.724063873291016,probability:.009265491738915443},{token:"bit",token_id:1643,logit:6.68026876449585,probability:.008868466131389141},{token:'"',token_id:366,logit:6.677203178405762,probability:.008841320872306824},{token:"school",token_id:1524,logit:6.64955997467041,probability:.008600265718996525},{token:"team",token_id:1074,logit:6.605846881866455,probability:.008232420310378075},{token:"public",token_id:1171,logit:6.605170249938965,probability:.008226851001381874},{token:"little",token_id:1310,logit:6.595873832702637,probability:.00815072562545538},{token:"perfect",token_id:2818,logit:6.581667900085449,probability:.008035754784941673},{token:"place",token_id:1295,logit:6.5282111167907715,probability:.007617469411343336},{token:"program",token_id:1430,logit:6.490026473999023,probability:.007332082372158766},{token:"national",token_id:2260,logit:6.4784722328186035,probability:.007247853092849255},{token:"long",token_id:890,logit:6.410051345825195,probability:.006768533028662205},{token:"two",token_id:734,logit:6.34706449508667,probability:.006355354096740484},{token:"unique",token_id:3748,logit:6.244614124298096,probability:.005736487917602062},{token:"well",token_id:880,logit:6.24260950088501,probability:.005725000519305468},{token:"Division",token_id:7458,logit:6.199276924133301,probability:.005482219625264406},{token:"state",token_id:1181,logit:6.191622257232666,probability:.005440414883196354},{token:"college",token_id:4152,logit:6.159815311431885,probability:.0052700950764119625},{token:"football",token_id:4346,logit:6.128932476043701,probability:.005109827034175396},{token:"one",token_id:530,logit:6.1205549240112305,probability:.005067198537290096},{token:"non",token_id:1729,logit:6.114068508148193,probability:.005034436471760273}],y=he(h,n),j=y.map(m=>m.token),_=y.map(m=>m.token_id),P;Ve(()=>{console.log("mount");const m=Tt(P);m.select("g.bars").selectAll("rect").data(y).join("rect").attr("height",c).attr("width",w=>o(w.probability)).attr("x",_t+st).attr("y",(w,v)=>bt+v*c+v*s).attr("fill",a.colors.gray[300]).attr("rx",1).attr("ry",1),m.select("g.bar-labels").selectAll("text").data(y).join("text").text(w=>(w.probability*100).toFixed(de)+"%").attr("x",w=>_t+st+o(w.probability)+st).attr("y",(w,v)=>bt+v*c+v*s).attr("dy",c/2+3).attr("text-anchor","start").style("font-size","0.5rem").style("fill",a.colors.gray[400])});function F(m){g=m,r(0,g)}function J(m){ge[m?"unshift":"push"](()=>{P=m,r(1,P)})}return t.$$.update=()=>{if(t.$$.dirty[0]&1&&r(3,n=d[g]),t.$$.dirty[0]&8&&r(8,y=he(h,n)),t.$$.dirty[0]&256&&r(2,i=(y==null?void 0:y.map(m=>m.logit))||[]),t.$$.dirty[0]&4&&r(4,l=(i==null?void 0:i.map(m=>Math.exp(m)))||[]),t.$$.dirty[0]&256&&y!=null&&y.map(m=>m.probability),t.$$.dirty[0]&256&&r(9,o=xe().domain(Ze(y,m=>m.probability)).range([1,Ln])),t.$$.dirty[0]&770&&y){const m=Tt(P);m.select("g.bars").selectAll("rect").data(y).join("rect").transition().ease(Ge).duration(500).attr("height",c).attr("width",w=>o(w.probability)).attr("x",_t+st).attr("y",(w,v)=>bt+v*c+v*s).attr("fill",a.colors.gray[300]).attr("rx",1).attr("ry",1),m.select("g.bar-labels").selectAll("text").data(y).join("text").transition().duration(500).tween("text",function(w){const v=Tt(this),X=pe(v.text().replace("%",""),w.probability*100);return function(U){v.text(X(U).toFixed(de)+"%")}}).attr("x",w=>_t+st+o(w.probability)+st).attr("y",(w,v)=>bt+v*c+v*s).attr("dy",c/2+3).attr("text-anchor","start").style("font-size","0.5rem").style("fill",a.colors.gray[400])}},[g,P,i,n,l,d,j,_,y,o,F,J]}class qn extends It{constructor(e){super(),Dt(this,e,Rn,Fn,Et,{},null,[-1,-1])}}function Hn(t){let e,r;return e=new qn({}),{c(){St(e.$$.fragment)},l(n){At(e.$$.fragment,n)},m(n,i){Pt(e,n,i),r=!0},p:ht,i(n){r||(et(e.$$.fragment,n),r=!0)},o(n){it(e.$$.fragment,n),r=!1},d(n){jt(e,n)}}}class Xn extends It{constructor(e){super(),Dt(this,e,null,Hn,Et,{})}}export{Xn as component};
